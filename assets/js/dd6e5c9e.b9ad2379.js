"use strict";(self.webpackChunkdocumentation=self.webpackChunkdocumentation||[]).push([[5557],{3905:(e,t,n)=>{n.d(t,{Zo:()=>u,kt:()=>f});var a=n(7294);function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function s(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach((function(t){r(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function o(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n,a,r={},i=Object.keys(e);for(a=0;a<i.length;a++)n=i[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}var c=a.createContext({}),l=function(e){var t=a.useContext(c),n=t;return e&&(n="function"==typeof e?e(t):s(s({},t),e)),n},u=function(e){var t=l(e.components);return a.createElement(c.Provider,{value:t},e.children)},p="mdxType",h={inlineCode:"code",wrapper:function(e){var t=e.children;return a.createElement(a.Fragment,{},t)}},d=a.forwardRef((function(e,t){var n=e.components,r=e.mdxType,i=e.originalType,c=e.parentName,u=o(e,["components","mdxType","originalType","parentName"]),p=l(n),d=r,f=p["".concat(c,".").concat(d)]||p[d]||h[d]||i;return n?a.createElement(f,s(s({ref:t},u),{},{components:n})):a.createElement(f,s({ref:t},u))}));function f(e,t){var n=arguments,r=t&&t.mdxType;if("string"==typeof e||r){var i=n.length,s=new Array(i);s[0]=d;var o={};for(var c in t)hasOwnProperty.call(t,c)&&(o[c]=t[c]);o.originalType=e,o[p]="string"==typeof e?e:r,s[1]=o;for(var l=2;l<i;l++)s[l]=n[l];return a.createElement.apply(null,s)}return a.createElement.apply(null,n)}d.displayName="MDXCreateElement"},3900:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>c,contentTitle:()=>s,default:()=>h,frontMatter:()=>i,metadata:()=>o,toc:()=>l});var a=n(7462),r=(n(7294),n(3905));const i={slug:"/data-fetching",sidebar_label:"Data Fetching",title:"Data Fetching",id:"data-fetching",keywords:["data fetching","react query","tanstack query","react-query","tanstack-query"]},s=void 0,o={unversionedId:"Guides/data-fetching",id:"Guides/data-fetching",title:"Data Fetching",description:"Indeed, in the realm of React Native and React development, there are several valuable libraries that can significantly",source:"@site/docs/04-Guides/02-Data Fetching.md",sourceDirName:"04-Guides",slug:"/data-fetching",permalink:"/react-native-boilerplate/docs/data-fetching",draft:!1,editUrl:"https://github.com/thecodingmachine/react-native-boilerplate/edit/main/website-documentation/docs/docs/04-Guides/02-Data Fetching.md",tags:[],version:"current",sidebarPosition:2,frontMatter:{slug:"/data-fetching",sidebar_label:"Data Fetching",title:"Data Fetching",id:"data-fetching",keywords:["data fetching","react query","tanstack query","react-query","tanstack-query"]},sidebar:"tutorialSidebar",previous:{title:"Navigate",permalink:"/react-native-boilerplate/docs/navigate"},next:{title:"I18n",permalink:"/react-native-boilerplate/docs/internationalization"}},c={},l=[{value:"Fetching Data at Startup",id:"fetching-data-at-startup",level:2},{value:"Advanced usage",id:"advanced-usage",level:2}],u={toc:l},p="wrapper";function h(e){let{components:t,...n}=e;return(0,r.kt)(p,(0,a.Z)({},u,n,{components:t,mdxType:"MDXLayout"}),(0,r.kt)("p",null,"Indeed, in the realm of React Native and React development, there are several valuable libraries that can significantly\nsimplify data management tasks. One such library is TanStack Query, which has gained popularity for its ability to streamline\ndata fetching, caching, error handling, and more. It's an excellent choice for integrating into this boilerplate, as it can\ngreatly enhance the efficiency and reliability of data management in your application."),(0,r.kt)("h2",{id:"fetching-data-at-startup"},"Fetching Data at Startup"),(0,r.kt)("p",null,"This boilerplate offers a convenient method for fetching data before presenting the application content to the user.\nThis capability is made possible through the ",(0,r.kt)("a",{parentName:"p",href:"/docs/navigate#navigation-structure"},"navigation structure")," of the initial\nsetup and the inclusion of the ",(0,r.kt)("inlineCode",{parentName:"p"},"Startup")," screen."),(0,r.kt)("p",null,"The ",(0,r.kt)("inlineCode",{parentName:"p"},"Startup")," screen takes on the role of being the very first screen shown to the user upon launching the application.\nIt serves as the entry point where essential data can be fetched and prepared before the user interacts with the app's content.\nThis ensures a smoother and more responsive user experience."),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-tsx",metastring:'title="src/screens/Startup/Startup.tsx"',title:'"src/screens/Startup/Startup.tsx"'},"  // highlight-next-line\nimport { useQuery } from '@tanstack/react-query';\n\nconst Startup = ({ navigation }: ApplicationScreenProps) => {\n    const { layout, gutters, fonts } = useTheme();\n    const { t } = useTranslation(['startup']);\n    \n    // highlight-start\n    const { isSuccess, isFetching, isError } = useQuery({\n        queryKey: ['startup'],\n        queryFn: () => {\n            // Fetch data here\n            return Promise.resolve(true);\n        },\n    });\n    // highlight-end\n    \n    useEffect(() => {\n        navigation.reset({\n            index: 0,\n            routes: [{ name: 'Main' }],\n        });\n    }, [isSuccess]);\n\n    return (\n        //...\n    );\n};\n")),(0,r.kt)("p",null,"The ",(0,r.kt)("inlineCode",{parentName:"p"},"useQuery")," hook is employed for data fetching. Now, let's explore how to formulate the request."),(0,r.kt)("p",null,"Consider a scenario where we wish to retrieve application settings from an API before the user accesses the application's content.\nTo achieve this, we will create a service responsible for fetching this data."),(0,r.kt)("p",null,"Within the ",(0,r.kt)("inlineCode",{parentName:"p"},"services")," folder, create a file named ",(0,r.kt)("inlineCode",{parentName:"p"},"startup/fetchSettings.ts"),", and include the following code:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-ts",metastring:'title="src/services/startup/fetchSettings.ts"',title:'"src/services/startup/fetchSettings.ts"'},"import { instance } from '@/services/instance';\n\nexport default async () => instance.get(`/settings`);\n")),(0,r.kt)("p",null,"The ",(0,r.kt)("inlineCode",{parentName:"p"},"instance")," is an Axios instance that comes pre-configured in the boilerplate."),(0,r.kt)("p",null,"Next, we will use the ",(0,r.kt)("inlineCode",{parentName:"p"},"fetchSettings")," service within the ",(0,r.kt)("inlineCode",{parentName:"p"},"Startup")," screen."),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-tsx",metastring:'title="src/screens/Startup/Startup.tsx"',title:'"src/screens/Startup/Startup.tsx"'},"import { useQuery } from '@tanstack/react-query';\n// highlight-next-line\nimport fetchSettings from '@/services/startup/fetchSettings';\n\nconst Startup = ({ navigation }: ApplicationScreenProps) => {\n    const { layout, gutters, fonts } = useTheme();\n    const { t } = useTranslation(['startup']);\n    \n    const { isSuccess, isFetching, isError } = useQuery({\n        queryKey: ['startup'],\n        // highlight-next-line\n        queryFn: fetchSettings,\n    });\n    \n    useEffect(() => {\n        navigation.reset({\n            index: 0,\n            routes: [{ name: 'Main' }],\n        });\n    }, [isSuccess]);\n\n    return (\n        //...\n    );\n};\n")),(0,r.kt)("h2",{id:"advanced-usage"},"Advanced usage"),(0,r.kt)("p",null,"Since we've utilized no additional or custom configuration, for further information,\nyou should refer to the official documentation of the ",(0,r.kt)("a",{parentName:"p",href:"https://react-query.tanstack.com/"},"library"),"."))}h.isMDXComponent=!0}}]);